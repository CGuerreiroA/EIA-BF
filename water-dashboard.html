<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Burkina Faso Water Scarcity Response Dashboard</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="anonymous" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin="anonymous"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f9f9f9;
            color: #333;
            padding: 20px;
        }
        .header {
            margin-bottom: 30px;
            border-bottom: 2px solid #0066cc;
            padding-bottom: 10px;
        }
        .card {
            margin-bottom: 20px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .card-header {
            background-color: #0066cc;
            color: white;
        }
        .metric-value {
            font-size: 24px;
            font-weight: bold;
            text-align: center;
        }
        .metric-label {
            text-align: center;
            font-size: 14px;
            color: #666;
        }
        .chart-container {
            height: 400px;
            margin-bottom: 30px;
        }
        .section-title {
            margin-top: 40px;
            margin-bottom: 20px;
            color: #333;
            font-weight: bold;
        }
        .footer {
            margin-top: 30px;
            padding-top: 15px;
            border-top: 1px solid #ddd;
        }
        #map-container {
            height: 500px;
            width: 100%;
            border-radius: 5px;
            overflow: hidden;
        }
        .priority-high {
            color: #dc3545;
        }
        .priority-medium {
            color: #fd7e14;
        }
        .priority-low {
            color: #28a745;
        }
        .adra-primary {
            color: #0B8A45;
        }
        .adra-secondary {
            color: #00A651;
        }
        table {
            width: 100%;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="row align-items-center">
                <div class="col-md-2">
                    <img src="ADRA logo white and green.PNG" alt="ADRA Logo" class="img-fluid" style="max-height: 80px;">
                </div>
                <div class="col-md-10">
                    <nav class="navbar navbar-expand-lg navbar-light">
                        <div class="container-fluid">
                            <ul class="navbar-nav">
                                <li class="nav-item">
                                    <a class="nav-link active" href="index.html"><i class="fas fa-water"></i> Water Dashboard</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="waste-management-dashboard.html"><i class="fas fa-recycle"></i> Waste Management Dashboard</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="vegetation-dashboard.html"><i class="fas fa-seedling"></i> Vegetation Dashboard</a>
                                </li>
                            </ul>
                        </div>
                    </nav>
                </div>
                <div class="col-md-10">
                    <h1>Burkina Faso Water Scarcity Response</h1>
                    <p>Humanitarian interventions addressing water scarcity and environmental degradation</p>
                </div>
            </div>
        </div>

        <!-- Project Locations Map -->
        <div class="row">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-header">Project Locations in Burkina Faso</div>
                    <div class="card-body">
                        <div id="map-container"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Key Metrics -->
        <div class="row">
            <div class="col-md-3">
                <div class="card">
                    <div class="card-header">Unsafe Water Sources</div>
                    <div class="card-body">
                        <div class="metric-value">89.2%</div>
                        <div class="metric-label">Unprotected wells & rivers</div>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card">
                    <div class="card-header">Water Access Challenge</div>
                    <div class="card-body">
                        <div class="metric-value">78.5%</div>
                        <div class="metric-label">Walk >30 min for water</div>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card">
                    <div class="card-header">Handwashing Facilities</div>
                    <div class="card-body">
                        <div class="metric-value">12.7%</div>
                        <div class="metric-label">With soap and water</div>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card">
                    <div class="card-header">Target Beneficiaries</div>
                    <div class="card-body">
                        <div class="metric-value">20,000</div>
                        <div class="metric-label">Households</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Water Resources Evaluation -->
        <h2 class="section-title">Water Resources Evaluation</h2>
        <div class="row">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-header">Key Water Bodies in Project Area</div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <h5>Lake Bam (Kongoussi)</h5>
                                <ul class="list-group mb-3">
                                    <li class="list-group-item"><i class="fas fa-water"></i> Surface area: approximately 30 km²</li>
                                    <li class="list-group-item"><i class="fas fa-check-circle text-success"></i> Water quality: Good, no salinity</li>
                                    <li class="list-group-item"><i class="fas fa-users"></i> Human activities: Fishing, herding, cleaning, crop production, sand extraction</li>
                                </ul>
                                <h5>Retenue d'eau (Tikaré)</h5>
                                <ul class="list-group mb-3">
                                    <li class="list-group-item"><i class="fas fa-water"></i> Size: Smaller than Lake Bam</li>
                                    <li class="list-group-item"><i class="fas fa-check-circle text-success"></i> Water quality: Similar to Lake Bam</li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <h5>Koulpogo River</h5>
                                <ul class="list-group mb-3">
                                    <li class="list-group-item"><i class="fas fa-stream"></i> Type: Narrow periodic river</li>
                                    <li class="list-group-item"><i class="fas fa-check-circle text-success"></i> Water quality: Good</li>
                                    <li class="list-group-item"><i class="fas fa-users"></i> Human activities: Settlement, fishing, herding, cleaning, crop production</li>
                                </ul>
                                <h5>Groundwater</h5>
                                <ul class="list-group">
                                    <li class="list-group-item"><i class="fas fa-arrow-down text-danger"></i> Depth: 15-20m below ground level (increasing)</li>
                                    <li class="list-group-item"><i class="fas fa-check-circle text-success"></i> Water quality: Excellent (potable), no salinity</li>
                                    <li class="list-group-item"><i class="fas fa-exclamation-triangle text-warning"></i> Status: Increasingly depleted due to rainfall scarcity</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- WASH Challenges -->
        <h2 class="section-title">WASH Challenges & Interventions</h2>
        <div class="row">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-header">WASH Situation Assessment</div>
                    <div class="card-body">
                        <div class="alert alert-warning">
                            <p><strong>Critical Challenge:</strong> Water supply is one of the biggest challenges for households in the target areas.</p>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <h5>Water Access Sources</h5>
                                <div class="chart-container" style="height: 300px;">
                                    <canvas id="water-sources-chart"></canvas>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <h5>WASH Intervention Strategy</h5>
                                <ul class="list-group">
                                    <li class="list-group-item"><i class="fas fa-tools"></i> Training of water operators and committees on infrastructure maintenance</li>
                                    <li class="list-group-item"><i class="fas fa-solar-panel"></i> Integration of renewable energy facilities</li>
                                    <li class="list-group-item"><i class="fas fa-hands-wash"></i> Hygiene promotion for vulnerable households</li>
                                    <li class="list-group-item"><i class="fas fa-users"></i> Community health worker sensitization</li>
                                    <li class="list-group-item"><i class="fas fa-shield-alt"></i> Strengthening First & Front Line Responders</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Water Scarcity & Humanitarian Response -->
        <h2 class="section-title">Water Scarcity & Humanitarian Response</h2>
        <div class="row">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-header bg-primary text-white">Humanitarian Water Activities</div>
                    <div class="card-body">
                        <div id="humanitarian-activities-chart" style="height: 400px; width: 100%;"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header bg-primary text-white">Water Interventions by Sector</div>
                    <div class="card-body">
                        <div style="position: relative; height: 300px;">
                            <canvas id="water-interventions-sector-chart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header bg-primary text-white">Water Interventions by Location</div>
                    <div class="card-body">
                        <div style="position: relative; height: 300px;">
                            <canvas id="water-interventions-location-chart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Humanitarian Water Activities -->
        <div class="row">
            <h2 class="section-title">Humanitarian Water Activities</h2>
            <div class="col-md-12">
                <div class="card">
                    <div class="card-header">Water Interventions by Type</div>
                    <div class="card-body">
                        <div id="water-interventions-type-chart" style="height: 400px; width: 100%;"></div>
                    </div>
                </div>
            </div>
        </div>
        


        <!-- Environmental Degradation & IDP Pressure -->
        <h2 class="section-title">Environmental Degradation & IDP Pressure</h2>
        <div class="row">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-header">Key Environmental Challenges</div>
                    <div class="card-body">
                        <p class="alert alert-warning"><strong>Note:</strong> The primary drivers for environmental and humanitarian interventions are <strong>vegetation/soil degradation</strong> and <strong>increased resource pressure from IDPs</strong>, not wind or erosion.</p>
                        <div id="vegetation-degradation-chart" class="chart-container"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Vegetation Degradation & IDP Pressure -->
        <h2 class="section-title">Resource Pressure & Humanitarian Needs</h2>
        <div class="row">
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">Vegetation Coverage Trends</div>
                    <div class="card-body">
                        <canvas id="vegetation-coverage"></canvas>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">Soil Degradation by Type</div>
                    <div class="card-body">
                        <canvas id="soil-degradation"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-header">IDP Impact on Resources</div>
                    <div class="card-body">
                        <div class="alert alert-info">
                            <p><strong>Key Challenge:</strong> Increased pressure on natural resources due to Internally Displaced Persons (IDPs)</p>
                        </div>
                        <table class="table table-striped table-bordered">
                            <thead>
                                <tr>
                                    <th>Resource</th>
                                    <th>Impact Level</th>
                                    <th>Primary Concerns</th>
                                    <th>Humanitarian Response</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Water</td>
                                    <td>High</td>
                                    <td>Increased demand, contamination risk</td>
                                    <td>Rehabilitation of water points, water catchment basins</td>
                                </tr>
                                <tr>
                                    <td>Vegetation</td>
                                    <td>High</td>
                                    <td>Deforestation for fuel, shelter</td>
                                    <td>Reforestation, energy-saving cookstoves</td>
                                </tr>
                                <tr>
                                    <td>Soil</td>
                                    <td>Medium</td>
                                    <td>Overuse, poor practices</td>
                                    <td>Training on regenerative agriculture, agroforestry</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Mitigation Measures -->
        <h2 class="section-title">Priority Mitigation Measures</h2>
        <div class="row">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-header">Addressing Vegetation/Soil Degradation & IDP Resource Pressure</div>
                    <div class="card-body">
                        <div class="alert alert-success">
                            <p><strong>Note:</strong> These measures focus on the key drivers of environmental degradation: vegetation/soil deterioration and increased resource pressure from IDPs, rather than wind/erosion.</p>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <h5>Vegetation & Soil Restoration</h5>
                                <ul class="list-group">
                                    <li class="list-group-item"><i class="fas fa-seedling"></i> Reforestation/afforestation campaigns</li>
                                    <li class="list-group-item"><i class="fas fa-leaf"></i> Assisted Natural Regeneration (ANR)</li>
                                    <li class="list-group-item"><i class="fas fa-tree"></i> Agroforestry implementation</li>
                                    <li class="list-group-item"><i class="fas fa-sync"></i> Crop rotation and diversification</li>
                                    <li class="list-group-item"><i class="fas fa-spa"></i> Regenerative agriculture methods</li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <h5>Energy & Resource Management</h5>
                                <ul class="list-group">
                                    <li class="list-group-item"><i class="fas fa-fire"></i> Energy-saving cookstoves distribution</li>
                                    <li class="list-group-item"><i class="fas fa-utensils"></i> Training on energy-saving cooking techniques</li>
                                    <li class="list-group-item"><i class="fas fa-tree"></i> Sustainable fuelwood/charcoal distribution</li>
                                    <li class="list-group-item"><i class="fas fa-users"></i> Community sensitization on responsible harvesting</li>
                                    <li class="list-group-item"><i class="fas fa-hands-helping"></i> Partner engagement for feasibility assessment</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="footer">
            <div class="row align-items-center">
                <div class="col-md-1">
                    <img src="https://adra.org/wp-content/uploads/2018/11/ADRA-logo.png" alt="ADRA Logo" class="img-fluid" style="max-height: 40px;">
                </div>
                <div class="col-md-11">
                    <p>ADRA Burkina Faso Water Scarcity Response Dashboard - Created 2025</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Project locations data
        const projectLocations = [
            { name: "Sahel Region", country: "Burkina Faso", lat: 14.1000865, lng: -0.1494988 },
            { name: "Bam", country: "Burkina Faso", lat: 13.446133, lng: -1.5983959 },
            { name: "Kongoussi", country: "Burkina Faso", lat: 13.3258, lng: -1.5347 },
            { name: "Tikaré", country: "Burkina Faso", lat: 13.2914, lng: -1.7261 },
            { name: "Tominian", country: "Mali", lat: 13.2874, lng: -4.5932 },
            { name: "San", country: "Mali", lat: 13.3034, lng: -4.8956 }
        ];

        // Initialize map and charts when the page loads
        document.addEventListener('DOMContentLoaded', function() {
            // Add a small delay to ensure DOM is fully loaded
            setTimeout(function() {
                try {
                    // Initialize the map
                    const map = L.map('map-container').setView([12.2383, -1.5616], 7); // Center on Burkina Faso

                    // Add the OpenStreetMap tile layer
                    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
                    }).addTo(map);

                    // Add markers for project locations
                    projectLocations.forEach(location => {
                        L.marker([location.lat, location.lng])
                            .addTo(map)
                            .bindPopup(`<b>${location.name}</b><br>${location.country}`);
                    });
                    
                    console.log('Rendering charts...');
                    // Render all charts
                    renderHumanitarianWaterActivities();
                    renderWaterInterventionsByType();
                    renderWaterInterventionsBySector();
                    renderWaterInterventionsByLocation();
                    renderWaterSourcesChart();
                    renderVegetationDegradation();
                    
                } catch (error) {
                    console.error('Error initializing map and charts:', error);
                }
            }, 500); // Increased delay to 500ms for better loading
        });
        
        // Humanitarian Water Activities chart
        function renderHumanitarianWaterActivities() {
            try {
                const data = [
                    {
                        x: ['Water Supply', 'Sanitation', 'Hygiene', 'Water Management', 'Infrastructure'],
                        y: [65, 48, 72, 35, 42],
                        type: 'bar',
                        marker: {
                            color: '#0066cc'
                        }
                    }
                ];

                const layout = {
                    margin: { t: 30, b: 80, l: 60, r: 30 },
                    xaxis: {
                        title: 'Activity Type'
                    },
                    yaxis: {
                        title: 'Number of Activities'
                    }
                };

                Plotly.newPlot('humanitarian-activities-chart', data, layout);
                console.log('Humanitarian Water Activities chart rendered');
            } catch (error) {
                console.error('Error rendering Humanitarian Water Activities chart:', error);
            }
        }
        
        // Water Interventions by Sector chart
        function renderWaterInterventionsBySector() {
            try {
                const ctx = document.getElementById('water-interventions-sector-chart').getContext('2d');
                new Chart(ctx, {
                    type: 'pie',
                    data: {
                        labels: ['WASH', 'Agriculture', 'Health', 'Education', 'Emergency Response'],
                        datasets: [{
                            data: [45, 25, 15, 10, 5],
                            backgroundColor: [
                                '#0066cc',
                                '#00A651',
                                '#FFC107',
                                '#6f42c1',
                                '#dc3545'
                            ]
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            title: {
                                display: true,
                                text: 'Water Interventions by Sector (%)'
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        return context.label + ': ' + context.raw + '%';
                                    }
                                }
                            }
                        }
                    }
                });
            } catch (error) {
                console.error('Error rendering Water Interventions by Sector chart:', error);
            }
        }
        
        // Water Interventions by Location chart
        function renderWaterInterventionsByLocation() {
            try {
                const ctx = document.getElementById('water-interventions-location-chart').getContext('2d');
                new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: ['Sahel Region', 'Bam', 'Kongoussi', 'Tikaré', 'Tominian', 'San'],
                        datasets: [{
                            label: 'Number of Interventions',
                            data: [58, 42, 35, 28, 22, 18],
                            backgroundColor: '#00A651'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            title: {
                                display: true,
                                text: 'Water Interventions by Location'
                            },
                            legend: {
                                display: false
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });
            } catch (error) {
                console.error('Error rendering Water Interventions by Location chart:', error);
            }
        }
        
        // Vegetation Degradation chart
        function renderVegetationDegradation() {
            try {
                const data = [
                    {
                        type: 'bar',
                        x: ['2010', '2015', '2020', '2025'],
                        y: [65, 55, 45, 35],
                        name: 'Vegetation Coverage (%)',
                        marker: { color: '#28a745' }
                    },
                    {
                        type: 'bar',
                        x: ['2010', '2015', '2020', '2025'],
                        y: [15, 25, 35, 45],
                        name: 'Soil Degradation (%)',
                        marker: { color: '#dc3545' }
                    },
                    {
                        type: 'bar',
                        x: ['2010', '2015', '2020', '2025'],
                        y: [5, 15, 25, 35],
                        name: 'IDP Pressure Index',
                        marker: { color: '#fd7e14' }
                    }
                ];
                
                const layout = {
                    title: 'Environmental Degradation Trends',
                    barmode: 'group',
                    xaxis: { title: 'Year' },
                    yaxis: { title: 'Percentage / Index' }
                };
                
                Plotly.newPlot('vegetation-degradation-chart', data, layout);
                
                // Render additional charts
                renderVegetationCoverage();
                renderSoilDegradation();
            } catch (error) {
                console.error('Error rendering Vegetation Degradation chart:', error);
            }
        }
        
        // Vegetation Coverage chart
        function renderVegetationCoverage() {
            try {
                const ctx = document.getElementById('vegetation-coverage').getContext('2d');
                new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: ['2010', '2015', '2020', '2025'],
                        datasets: [{
                            label: 'Grassland/Savanna (%)',
                            data: [60, 55, 50, 45],
                            borderColor: '#28a745',
                            backgroundColor: 'rgba(40, 167, 69, 0.1)',
                            fill: true
                        }, {
                            label: 'Tropical Forest (%)',
                            data: [15, 12, 10, 8],
                            borderColor: '#0B8A45',
                            backgroundColor: 'rgba(11, 138, 69, 0.1)',
                            fill: true
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            title: {
                                display: true,
                                text: 'Vegetation Coverage Trends'
                            }
                        }
                    }
                });
            } catch (error) {
                console.error('Error rendering Vegetation Coverage chart:', error);
            }
        }
        
        // Soil Degradation chart
        function renderSoilDegradation() {
            try {
                const ctx = document.getElementById('soil-degradation').getContext('2d');
                new Chart(ctx, {
                    type: 'pie',
                    data: {
                        labels: ['Loss of Fertility', 'Compaction', 'Nutrient Depletion', 'Other'],
                        datasets: [{
                            data: [45, 30, 20, 5],
                            backgroundColor: [
                                '#dc3545',
                                '#fd7e14',
                                '#ffc107',
                                '#6c757d'
                            ]
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            title: {
                                display: true,
                                text: 'Soil Degradation by Type'
                            }
                        }
                    }
                });
            } catch (error) {
                console.error('Error rendering Soil Degradation chart:', error);
            }
        }

        // Render Water Interventions by Type Chart
        function renderWaterInterventionsByType() {
            try {
                const interventionTypes = ['Borehole Construction', 'Well Rehabilitation', 'Water Treatment', 'Rainwater Harvesting', 'WASH Training', 'Water Committee Formation'];
                const interventionCounts = [45, 38, 32, 25, 60, 28];
                
                const data = [{
                    type: 'bar',
                    x: interventionTypes,
                    y: interventionCounts,
                    marker: {
                        color: '#0066cc'
                    }
                }];
                
                const layout = {
                    margin: { t: 30, b: 80, l: 60, r: 30 },
                    xaxis: {
                        tickangle: -45
                    },
                    yaxis: {
                        title: 'Number of Interventions'
                    }
                };
                
                Plotly.newPlot('water-interventions-type-chart', data, layout);
            } catch (error) {
                console.error('Error rendering Water Interventions by Type chart:', error);
            }
        }
        
        // Render Water Sources Chart
        function renderWaterSourcesChart() {
            try {
                const ctx = document.getElementById('water-sources-chart').getContext('2d');
                new Chart(ctx, {
                    type: 'pie',
                    data: {
                        labels: ['Unprotected well', 'River', 'Pump/borehole', 'Water source in shelter'],
                        datasets: [{
                            data: [75.2, 14.0, 6.6, 4.1],
                            backgroundColor: [
                                '#dc3545',
                                '#fd7e14',
                                '#28a745',
                                '#0066cc'
                            ]
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            title: {
                                display: true,
                                text: 'Household Water Sources (%)'
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        return context.label + ': ' + context.raw + '%';
                                    }
                                }
                            }
                        }
                    }
                });
            } catch (error) {
                console.error('Error rendering Water Sources chart:', error);
            }
        }

        // Data for renewable freshwater resources per capita
        const years = Array.from({length: 16}, (_, i) => 2010 + i);
        const renewableWater = [
            900, 850, 800, 750, 700, 650, 600, 550,
            500, 480, 460, 440, 420, 400, 380, 360
        ];

        // Data for rainfall patterns
        const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
        const rainfallHistorical = [0, 0, 5, 15, 30, 90, 180, 210, 120, 20, 0, 0];
        const rainfallCurrent = [0, 0, 0, 5, 20, 70, 170, 190, 150, 15, 0, 0];

        // Data for temperature trends
        const yearsTemp = Array.from({length: 36}, (_, i) => 1990 + i);
        const avgTemps = [
            26.5, 26.6, 26.7, 26.8, 26.9, 27.0, 27.1, 27.2, 27.3, 27.4,
            27.5, 27.6, 27.7, 27.8, 27.9, 28.0, 28.1, 28.2, 28.3, 28.4,
            28.5, 28.6, 28.7, 28.8, 28.9, 29.0, 29.1, 29.2, 29.3, 29.4,
            29.5, 29.6, 29.7, 29.8, 29.9, 30.0
        ];

        // Data for groundwater depth
        const yearsGW = Array.from({length: 26}, (_, i) => 2000 + i);
        const gwDepth = [
            10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 
            26, 27, 28, 29, 30, 31, 32, 33, 34, 35
        ];

        // Data for vegetation coverage
        const vegetationTypes = ['Grasslands, Savannas & Shrublands', 'Tropical & Subtropical Forest', 'Other/Degraded'];
        const coveragePercent = [60, 15, 25];

        // Data for soil degradation
        const soilTypes = ['Clayey', 'Loamy', 'Organic (Peat)'];
        const degradationPercent = [65, 55, 50];

        // Create renewable water graph
        Plotly.newPlot('renewable-water-graph', [{
            x: years,
            y: renewableWater,
            type: 'scatter',
            mode: 'lines',
            line: {
                color: '#0066cc',
                width: 3
            },
            name: 'Renewable Freshwater'
        }], {
            title: 'Renewable Freshwater Resources per Capita (1961-2021)',
            xaxis: {
                title: 'Year'
            },
            yaxis: {
                title: 'Cubic meters per capita'
            },
            annotations: [{
                x: 2021,
                y: 200,
                xref: 'x',
                yref: 'y',
                text: 'Burkina Faso',
                showarrow: true,
                arrowhead: 1,
                ax: 40,
                ay: -40
            }]
        });

        // Create rainfall patterns graph
        Plotly.newPlot('rainfall-patterns', [
            {
                x: months,
                y: rainfallHistorical,
                type: 'bar',
                name: 'Historical Pattern (1990-2000)',
                marker: {
                    color: '#0066cc'
                }
            },
            {
                x: months,
                y: rainfallCurrent,
                type: 'bar',
                name: 'Current Pattern (2015-2025)',
                marker: {
                    color: '#ff9900'
                }
            }
        ], {
            title: 'Monthly Rainfall Patterns',
            xaxis: {
                title: 'Month'
            },
            yaxis: {
                title: 'Rainfall (mm)'
            },
            barmode: 'group'
        });

        // Create groundwater depth graph
        Plotly.newPlot('groundwater-depth', [{
            x: yearsGW,
            y: gwDepth,
            type: 'scatter',
            mode: 'lines',
            line: {
                color: '#dc3545',
                width: 3
            },
            name: 'Groundwater Depth'
        }], {
            title: 'Groundwater Depth Trends (2000-2025)',
            xaxis: {
                title: 'Year'
            },
            yaxis: {
                title: 'Depth (meters)',
                autorange: 'reversed'
            }
        });

        // Create temperature trends graph
        Plotly.newPlot('temperature-trends', [{
            x: yearsTemp,
            y: avgTemps,
            type: 'scatter',
            mode: 'lines',
            line: {
                color: '#dc3545',
                width: 3
            },
            name: 'Average Temperature'
        }], {
            title: 'Average Temperature Trends (1990-2025)',
            xaxis: {
                title: 'Year'
            },
            yaxis: {
                title: 'Temperature (°C)'
            }
        });

        // Create vegetation coverage chart
        const vegetationCtx = document.getElementById('vegetation-coverage').getContext('2d');
        new Chart(vegetationCtx, {
            type: 'pie',
            data: {
                labels: vegetationTypes,
                datasets: [{
                    data: coveragePercent,
                    backgroundColor: [
                        '#28a745',
                        '#0066cc',
                        '#ffc107'
                    ]
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Vegetation Coverage'
                    },
                    legend: {
                        position: 'bottom'
                    }
                }
            }
        });

        // Create soil degradation chart
        const soilCtx = document.getElementById('soil-degradation').getContext('2d');
        new Chart(soilCtx, {
            type: 'bar',
            data: {
                labels: soilTypes,
                datasets: [{
                    label: 'Soil Degradation (%)',
                    data: degradationPercent,
                    backgroundColor: '#dc3545'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Soil Degradation by Type'
                    },
                    legend: {
                        display: false
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 100
                    }
                }
            }
        });
    </script>
</body>
</html>
